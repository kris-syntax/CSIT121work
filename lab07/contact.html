
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="styles.css" rel="stylesheet">
</head>
<body class="body2">

    <nav>
        <ul>
           <li><a href="tierlist.html">Tierlist</a></li> 
           <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>
    
   <section>
    <h2>Contact Form</h2>
   </section>

<form id="myform">
  <fieldset>
   <section>
    <h3>Personal Information</h3>
    <div>
    <label for="fname">First name:</label><br>
    <input type="text" id="fname" name="fname" placeholder="Enter your first name">
    <br>
    </div>

    <div>
    <label for="lname">Last name:</label><br>
    <input type="text" id="lname" name="lname" required placeholder="Enter your last name">
    <br>
    </div>

    <div>
    <label for="email">Enter your email:</label><br>
    <input type="email" id="email" name="email" required placeholder="Enter your email">

    </div>
   </section>    

    
    
    <p><label for="comments">Comments:</label></p>
    <textarea id="comments" name="comments" rows="10" cols="40"></textarea>

    <section>
    <h3>Tell me your favorite items</h3>    
     <p>What's your favorite dessert?</p>
     
     <div>
     <input type="radio" id="cake" name="fav_dessert" value="Cake">
     <label for="cake">Cake</label><br>
    </div>

    <div>
     <input type="radio" id="pie" name="fav_dessert" value="Pie">
     <label for="pie">Pie</label><br>
    </div>
    
    <div>
     <input type="radio" id="cookie" name="fav_dessert" value="Cookie">
     <label for="cookie">Cookie</label>
    </div>
   </section>

   <section>
    <h3>Tell me what kind of takeout and soup you like</h3>
     <div> 
        <label for="takeout">What's your favorite type of takeout food?</label>
        <select id="takeout" name="takeout">
            <option value="pizza">pizza</option>
            <option value="chinese">chinese</option>
            <option value="indian">indian</option>
        </select>

     </div>

     <div> 
        <label for="soup">What kind of soup do you like?</label>
        <select id="soup" name="soup">
            <option value="chicken">chicken</option>
            <option value="tomato">tomato</option>
            <option value="beef">beef</option>
        </select>
     </div>
   </section>  
   
    <section>
    <h3>Stay in touch</h3>    
    <div>
      <label for="subscribe">Check to Subscribe  </label> 
      <input type="checkbox" id="subscribe" name="subscribe"> 
    </div>
    </section>
    


    <div>   
        <input type="reset">
    </div>

    <br>

    <div>
        <input type="submit" value="Submit">
    </div>

  </fieldset>
</form>

<script>
    
document.getElementById('myform').addEventListener('submit', function(event) {
    event.preventDefault(); //stop the browser from submitting the form because this script is handling it. 

    //all the following code get the info from the form and puts it in a constant
    const fname = document.getElementById('fname').value;
    const lname = document.getElementById('lname').value;
    const email = document.getElementById('email').value;
    const favDessert = document.querySelector('input[name="fav_dessert"]:checked').value;
    const takeout = document.getElementById('takeout').value;
    const soup = document.getElementById('soup').value; 
    
    const subscribe = document.getElementById('subscribe').checked ? 'yes' : 'no';
    const comments = document.getElementById('comments').value;

    //put all the form info into a one long string
    const data = `First Name: ${fname}\nLast Name: ${lname}\nEmail: ${email}\nFavorite Dessert: ${favDessert}\nFavorite Takeout: ${takeout}\nFavorite Soup: ${soup}\nSubscribed: ${subscribe}\nComments: ${comments}`;
    
    //The remaining code is used to create and download a text file from the browser - see comments after each line
    const blob = new Blob([data], { type: 'text/plain' }); //create a blob object and put all the data in it
    const url = URL.createObjectURL(blob); //create a temp URL to reference the blob
    const a = document.createElement('a'); //dynamically create an anchor tag
    a.href = url; //use the blog URL you generated for the dynamically created anchor tag
    a.download = 'form-data-from-' + fname + '-' + lname + '.txt'; //create the file name that will be used
    a.click(); //simulate the clicking of the anchor tag your created 
    URL.revokeObjectURL(url); //dump the temporary URL - it's no longer needed. 
});
</script>

</body>
</html>